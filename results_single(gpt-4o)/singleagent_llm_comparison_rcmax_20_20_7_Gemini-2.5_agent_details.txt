SINGLE-AGENT LLM PROMPTS AND OUTPUTS DETAILS
==================================================

üîç Gemini-2.5 Model Details:
--------------------------------------------------

üìù Gemini-2.5 Input Prompt:
------------------------------

        Job Shop Scheduling Problem (JSSP) - Dataset: rcmax_20_20_7
        
        Problem Description:
        - Number of jobs: 20
        - Each job has multiple operations that must be performed in sequence
        - Each operation requires a specific machine and has a duration
        - Each machine can only process one operation at a time
        - Goal: Find the minimum makespan (total completion time)
        
        Job Specifications:
        
Job1:
  Step 1: Machine Machine4, Duration 135
  Step 2: Machine Machine6, Duration 174
  Step 3: Machine Machine17, Duration 89
  Step 4: Machine Machine5, Duration 37
  Step 5: Machine Machine9, Duration 2
  Step 6: Machine Machine13, Duration 41
  Step 7: Machine Machine18, Duration 178
  Step 8: Machine Machine14, Duration 161
  Step 9: Machine Machine15, Duration 154
  Step 10: Machine Machine1, Duration 40
  Step 11: Machine Machine16, Duration 94
  Step 12: Machine Machine11, Duration 59
  Step 13: Machine Machine3, Duration 166
  Step 14: Machine Machine8, Duration 71
  Step 15: Machine Machine0, Duration 102
  Step 16: Machine Machine7, Duration 55
  Step 17: Machine Machine2, Duration 112
  Step 18: Machine Machine10, Duration 105
  Step 19: Machine Machine12, Duration 28
  Step 20: Machine Machine19, Duration 60
Job2:
  Step 1: Machine Machine1, Duration 17
  Step 2: Machine Machine3, Duration 154
  Step 3: Machine Machine15, Duration 103
  Step 4: Machine Machine0, Duration 27
  Step 5: Machine Machine7, Duration 37
  Step 6: Machine Machine6, Duration 42
  Step 7: Machine Machine2, Duration 101
  Step 8: Machine Machine9, Duration 87
  Step 9: Machine Machine13, Duration 86
  Step 10: Machine Machine11, Duration 123
  Step 11: Machine Machine10, Duration 57
  Step 12: Machine Machine8, Duration 12
  Step 13: Machine Machine14, Duration 66
  Step 14: Machine Machine4, Duration 174
  Step 15: Machine Machine12, Duration 34
  Step 16: Machine Machine16, Duration 108
  Step 17: Machine Machine19, Duration 54
  Step 18: Machine Machine18, Duration 159
  Step 19: Machine Machine5, Duration 12
  Step 20: Machine Machine17, Duration 149
Job3:
  Step 1: Machine Machine5, Duration 122
  Step 2: Machine Machine14, Duration 183
  Step 3: Machine Machine13, Duration 91
  Step 4: Machine Machine9, Duration 17
  Step 5: Machine Machine18, Duration 104
  Step 6: Machine Machine1, Duration 152
  Step 7: Machine Machine12, Duration 137
  Step 8: Machine Machine10, Duration 98
  Step 9: Machine Machine8, Duration 102
  Step 10: Machine Machine2, Duration 141
  Step 11: Machine Machine15, Duration 75
  Step 12: Machine Machine7, Duration 58
  Step 13: Machine Machine3, Duration 184
  Step 14: Machine Machine16, Duration 167
  Step 15: Machine Machine11, Duration 75
  Step 16: Machine Machine4, Duration 124
  Step 17: Machine Machine17, Duration 141
  Step 18: Machine Machine6, Duration 90
  Step 19: Machine Machine19, Duration 192
  Step 20: Machine Machine0, Duration 95
Job4:
  Step 1: Machine Machine9, Duration 50
  Step 2: Machine Machine7, Duration 56
  Step 3: Machine Machine19, Duration 151
  Step 4: Machine Machine11, Duration 197
  Step 5: Machine Machine12, Duration 59
  Step 6: Machine Machine18, Duration 115
  Step 7: Machine Machine2, Duration 51
  Step 8: Machine Machine4, Duration 146
  Step 9: Machine Machine10, Duration 189
  Step 10: Machine Machine17, Duration 15
  Step 11: Machine Machine14, Duration 180
  Step 12: Machine Machine8, Duration 10
  Step 13: Machine Machine0, Duration 134
  Step 14: Machine Machine6, Duration 11
  Step 15: Machine Machine16, Duration 30
  Step 16: Machine Machine5, Duration 42
  Step 17: Machine Machine15, Duration 189
  Step 18: Machine Machine3, Duration 63
  Step 19: Machine Machine13, Duration 196
  Step 20: Machine Machine1, Duration 21
Job5:
  Step 1: Machine Machine18, Duration 53
  Step 2: Machine Machine5, Duration 23
  Step 3: Machine Machine11, Duration 99
  Step 4: Machine Machine16, Duration 57
  Step 5: Machine Machine14, Duration 92
  Step 6: Machine Machine6, Duration 180
  Step 7: Machine Machine0, Duration 4
  Step 8: Machine Machine12, Duration 121
  Step 9: Machine Machine13, Duration 102
  Step 10: Machine Machine15, Duration 185
  Step 11: Machine Machine19, Duration 72
  Step 12: Machine Machine9, Duration 134
  Step 13: Machine Machine7, Duration 76
  Step 14: Machine Machine2, Duration 69
  Step 15: Machine Machine17, Duration 63
  Step 16: Machine Machine8, Duration 57
  Step 17: Machine Machine3, Duration 95
  Step 18: Machine Machine4, Duration 116
  Step 19: Machine Machine10, Duration 23
  Step 20: Machine Machine1, Duration 168
Job6:
  Step 1: Machine Machine17, Duration 89
  Step 2: Machine Machine2, Duration 158
  Step 3: Machine Machine12, Duration 97
  Step 4: Machine Machine10, Duration 181
  Step 5: Machine Machine16, Duration 138
  Step 6: Machine Machine7, Duration 112
  Step 7: Machine Machine5, Duration 66
  Step 8: Machine Machine8, Duration 34
  Step 9: Machine Machine13, Duration 198
  Step 10: Machine Machine6, Duration 193
  Step 11: Machine Machine9, Duration 159
  Step 12: Machine Machine14, Duration 114
  Step 13: Machine Machine0, Duration 86
  Step 14: Machine Machine19, Duration 84
  Step 15: Machine Machine11, Duration 122
  Step 16: Machine Machine4, Duration 30
  Step 17: Machine Machine3, Duration 69
  Step 18: Machine Machine1, Duration 200
  Step 19: Machine Machine15, Duration 35
  Step 20: Machine Machine18, Duration 163
Job7:
  Step 1: Machine Machine10, Duration 37
  Step 2: Machine Machine19, Duration 177
  Step 3: Machine Machine13, Duration 26
  Step 4: Machine Machine1, Duration 157
  Step 5: Machine Machine15, Duration 6
  Step 6: Machine Machine8, Duration 96
  Step 7: Machine Machine11, Duration 56
  Step 8: Machine Machine5, Duration 101
  Step 9: Machine Machine0, Duration 196
  Step 10: Machine Machine12, Duration 112
  Step 11: Machine Machine4, Duration 60
  Step 12: Machine Machine7, Duration 96
  Step 13: Machine Machine9, Duration 39
  Step 14: Machine Machine14, Duration 23
  Step 15: Machine Machine17, Duration 175
  Step 16: Machine Machine18, Duration 185
  Step 17: Machine Machine6, Duration 200
  Step 18: Machine Machine2, Duration 146
  Step 19: Machine Machine16, Duration 127
  Step 20: Machine Machine3, Duration 40
Job8:
  Step 1: Machine Machine3, Duration 83
  Step 2: Machine Machine2, Duration 27
  Step 3: Machine Machine7, Duration 158
  Step 4: Machine Machine5, Duration 54
  Step 5: Machine Machine1, Duration 124
  Step 6: Machine Machine13, Duration 151
  Step 7: Machine Machine8, Duration 49
  Step 8: Machine Machine9, Duration 4
  Step 9: Machine Machine15, Duration 135
  Step 10: Machine Machine10, Duration 127
  Step 11: Machine Machine18, Duration 33
  Step 12: Machine Machine14, Duration 104
  Step 13: Machine Machine19, Duration 72
  Step 14: Machine Machine17, Duration 125
  Step 15: Machine Machine16, Duration 24
  Step 16: Machine Machine6, Duration 17
  Step 17: Machine Machine0, Duration 116
  Step 18: Machine Machine12, Duration 3
  Step 19: Machine Machine11, Duration 96
  Step 20: Machine Machine4, Duration 140
Job9:
  Step 1: Machine Machine0, Duration 89
  Step 2: Machine Machine19, Duration 131
  Step 3: Machine Machine7, Duration 69
  Step 4: Machine Machine8, Duration 163
  Step 5: Machine Machine3, Duration 6
  Step 6: Machine Machine17, Duration 67
  Step 7: Machine Machine10, Duration 25
  Step 8: Machine Machine6, Duration 21
  Step 9: Machine Machine11, Duration 151
  Step 10: Machine Machine12, Duration 168
  Step 11: Machine Machine1, Duration 168
  Step 12: Machine Machine4, Duration 170
  Step 13: Machine Machine9, Duration 14
  Step 14: Machine Machine16, Duration 193
  Step 15: Machine Machine14, Duration 28
  Step 16: Machine Machine18, Duration 157
  Step 17: Machine Machine13, Duration 29
  Step 18: Machine Machine2, Duration 105
  Step 19: Machine Machine15, Duration 86
  Step 20: Machine Machine5, Duration 196
Job10:
  Step 1: Machine Machine8, Duration 159
  Step 2: Machine Machine17, Duration 102
  Step 3: Machine Machine9, Duration 79
  Step 4: Machine Machine14, Duration 164
  Step 5: Machine Machine0, Duration 133
  Step 6: Machine Machine1, Duration 34
  Step 7: Machine Machine6, Duration 64
  Step 8: Machine Machine13, Duration 144
  Step 9: Machine Machine19, Duration 32
  Step 10: Machine Machine11, Duration 98
  Step 11: Machine Machine4, Duration 181
  Step 12: Machine Machine10, Duration 123
  Step 13: Machine Machine5, Duration 80
  Step 14: Machine Machine18, Duration 143
  Step 15: Machine Machine16, Duration 98
  Step 16: Machine Machine2, Duration 16
  Step 17: Machine Machine12, Duration 127
  Step 18: Machine Machine3, Duration 176
  Step 19: Machine Machine15, Duration 169
  Step 20: Machine Machine7, Duration 100
Job11:
  Step 1: Machine Machine11, Duration 61
  Step 2: Machine Machine17, Duration 50
  Step 3: Machine Machine13, Duration 86
  Step 4: Machine Machine4, Duration 123
  Step 5: Machine Machine19, Duration 146
  Step 6: Machine Machine2, Duration 190
  Step 7: Machine Machine5, Duration 109
  Step 8: Machine Machine10, Duration 55
  Step 9: Machine Machine1, Duration 178
  Step 10: Machine Machine14, Duration 86
  Step 11: Machine Machine18, Duration 161
  Step 12: Machine Machine7, Duration 126
  Step 13: Machine Machine3, Duration 134
  Step 14: Machine Machine9, Duration 65
  Step 15: Machine Machine0, Duration 165
  Step 16: Machine Machine8, Duration 160
  Step 17: Machine Machine12, Duration 75
  Step 18: Machine Machine16, Duration 135
  Step 19: Machine Machine15, Duration 195
  Step 20: Machine Machine6, Duration 154
Job12:
  Step 1: Machine Machine10, Duration 114
  Step 2: Machine Machine2, Duration 146
  Step 3: Machine Machine8, Duration 192
  Step 4: Machine Machine13, Duration 103
  Step 5: Machine Machine7, Duration 29
  Step 6: Machine Machine12, Duration 170
  Step 7: Machine Machine3, Duration 131
  Step 8: Machine Machine9, Duration 158
  Step 9: Machine Machine19, Duration 134
  Step 10: Machine Machine15, Duration 37
  Step 11: Machine Machine6, Duration 45
  Step 12: Machine Machine18, Duration 113
  Step 13: Machine Machine5, Duration 62
  Step 14: Machine Machine0, Duration 123
  Step 15: Machine Machine4, Duration 73
  Step 16: Machine Machine16, Duration 129
  Step 17: Machine Machine1, Duration 161
  Step 18: Machine Machine11, Duration 61
  Step 19: Machine Machine17, Duration 158
  Step 20: Machine Machine14, Duration 91
Job13:
  Step 1: Machine Machine4, Duration 165
  Step 2: Machine Machine7, Duration 196
  Step 3: Machine Machine2, Duration 199
  Step 4: Machine Machine15, Duration 182
  Step 5: Machine Machine16, Duration 140
  Step 6: Machine Machine1, Duration 19
  Step 7: Machine Machine8, Duration 84
  Step 8: Machine Machine19, Duration 97
  Step 9: Machine Machine13, Duration 80
  Step 10: Machine Machine9, Duration 161
  Step 11: Machine Machine6, Duration 192
  Step 12: Machine Machine3, Duration 30
  Step 13: Machine Machine18, Duration 182
  Step 14: Machine Machine10, Duration 117
  Step 15: Machine Machine17, Duration 84
  Step 16: Machine Machine11, Duration 156
  Step 17: Machine Machine14, Duration 166
  Step 18: Machine Machine12, Duration 82
  Step 19: Machine Machine5, Duration 152
  Step 20: Machine Machine0, Duration 9
Job14:
  Step 1: Machine Machine3, Duration 32
  Step 2: Machine Machine0, Duration 167
  Step 3: Machine Machine18, Duration 42
  Step 4: Machine Machine5, Duration 19
  Step 5: Machine Machine8, Duration 32
  Step 6: Machine Machine16, Duration 34
  Step 7: Machine Machine6, Duration 152
  Step 8: Machine Machine9, Duration 78
  Step 9: Machine Machine10, Duration 91
  Step 10: Machine Machine12, Duration 132
  Step 11: Machine Machine13, Duration 197
  Step 12: Machine Machine2, Duration 50
  Step 13: Machine Machine1, Duration 190
  Step 14: Machine Machine4, Duration 200
  Step 15: Machine Machine17, Duration 39
  Step 16: Machine Machine19, Duration 71
  Step 17: Machine Machine11, Duration 56
  Step 18: Machine Machine14, Duration 174
  Step 19: Machine Machine15, Duration 182
  Step 20: Machine Machine7, Duration 36
Job15:
  Step 1: Machine Machine9, Duration 149
  Step 2: Machine Machine6, Duration 128
  Step 3: Machine Machine19, Duration 19
  Step 4: Machine Machine15, Duration 141
  Step 5: Machine Machine17, Duration 199
  Step 6: Machine Machine7, Duration 56
  Step 7: Machine Machine16, Duration 19
  Step 8: Machine Machine3, Duration 176
  Step 9: Machine Machine12, Duration 15
  Step 10: Machine Machine18, Duration 120
  Step 11: Machine Machine10, Duration 36
  Step 12: Machine Machine1, Duration 200
  Step 13: Machine Machine13, Duration 59
  Step 14: Machine Machine4, Duration 122
  Step 15: Machine Machine5, Duration 192
  Step 16: Machine Machine8, Duration 2
  Step 17: Machine Machine2, Duration 142
  Step 18: Machine Machine0, Duration 100
  Step 19: Machine Machine14, Duration 83
  Step 20: Machine Machine11, Duration 100
Job16:
  Step 1: Machine Machine3, Duration 191
  Step 2: Machine Machine18, Duration 95
  Step 3: Machine Machine12, Duration 14
  Step 4: Machine Machine7, Duration 115
  Step 5: Machine Machine1, Duration 159
  Step 6: Machine Machine17, Duration 111
  Step 7: Machine Machine15, Duration 8
  Step 8: Machine Machine4, Duration 155
  Step 9: Machine Machine5, Duration 37
  Step 10: Machine Machine14, Duration 151
  Step 11: Machine Machine6, Duration 93
  Step 12: Machine Machine2, Duration 193
  Step 13: Machine Machine11, Duration 81
  Step 14: Machine Machine0, Duration 36
  Step 15: Machine Machine8, Duration 4
  Step 16: Machine Machine9, Duration 191
  Step 17: Machine Machine10, Duration 18
  Step 18: Machine Machine13, Duration 47
  Step 19: Machine Machine16, Duration 131
  Step 20: Machine Machine19, Duration 8
Job17:
  Step 1: Machine Machine0, Duration 83
  Step 2: Machine Machine7, Duration 73
  Step 3: Machine Machine9, Duration 171
  Step 4: Machine Machine15, Duration 122
  Step 5: Machine Machine2, Duration 3
  Step 6: Machine Machine8, Duration 193
  Step 7: Machine Machine11, Duration 30
  Step 8: Machine Machine16, Duration 179
  Step 9: Machine Machine17, Duration 94
  Step 10: Machine Machine4, Duration 200
  Step 11: Machine Machine18, Duration 149
  Step 12: Machine Machine12, Duration 149
  Step 13: Machine Machine19, Duration 96
  Step 14: Machine Machine5, Duration 47
  Step 15: Machine Machine10, Duration 138
  Step 16: Machine Machine1, Duration 21
  Step 17: Machine Machine3, Duration 70
  Step 18: Machine Machine13, Duration 133
  Step 19: Machine Machine14, Duration 158
  Step 20: Machine Machine6, Duration 194
Job18:
  Step 1: Machine Machine7, Duration 166
  Step 2: Machine Machine1, Duration 122
  Step 3: Machine Machine13, Duration 194
  Step 4: Machine Machine19, Duration 5
  Step 5: Machine Machine16, Duration 135
  Step 6: Machine Machine9, Duration 121
  Step 7: Machine Machine10, Duration 151
  Step 8: Machine Machine17, Duration 30
  Step 9: Machine Machine11, Duration 110
  Step 10: Machine Machine3, Duration 21
  Step 11: Machine Machine18, Duration 142
  Step 12: Machine Machine6, Duration 81
  Step 13: Machine Machine8, Duration 193
  Step 14: Machine Machine0, Duration 199
  Step 15: Machine Machine12, Duration 130
  Step 16: Machine Machine2, Duration 8
  Step 17: Machine Machine5, Duration 169
  Step 18: Machine Machine14, Duration 142
  Step 19: Machine Machine15, Duration 200
  Step 20: Machine Machine4, Duration 108
Job19:
  Step 1: Machine Machine10, Duration 21
  Step 2: Machine Machine19, Duration 35
  Step 3: Machine Machine5, Duration 200
  Step 4: Machine Machine12, Duration 56
  Step 5: Machine Machine14, Duration 132
  Step 6: Machine Machine7, Duration 95
  Step 7: Machine Machine6, Duration 78
  Step 8: Machine Machine1, Duration 175
  Step 9: Machine Machine11, Duration 149
  Step 10: Machine Machine0, Duration 38
  Step 11: Machine Machine8, Duration 44
  Step 12: Machine Machine16, Duration 4
  Step 13: Machine Machine4, Duration 101
  Step 14: Machine Machine17, Duration 187
  Step 15: Machine Machine3, Duration 165
  Step 16: Machine Machine9, Duration 22
  Step 17: Machine Machine15, Duration 129
  Step 18: Machine Machine2, Duration 66
  Step 19: Machine Machine18, Duration 24
  Step 20: Machine Machine13, Duration 41
Job20:
  Step 1: Machine Machine18, Duration 3
  Step 2: Machine Machine4, Duration 119
  Step 3: Machine Machine3, Duration 117
  Step 4: Machine Machine17, Duration 140
  Step 5: Machine Machine5, Duration 189
  Step 6: Machine Machine7, Duration 9
  Step 7: Machine Machine13, Duration 73
  Step 8: Machine Machine0, Duration 131
  Step 9: Machine Machine8, Duration 121
  Step 10: Machine Machine1, Duration 88
  Step 11: Machine Machine11, Duration 133
  Step 12: Machine Machine10, Duration 44
  Step 13: Machine Machine2, Duration 154
  Step 14: Machine Machine14, Duration 27
  Step 15: Machine Machine16, Duration 32
  Step 16: Machine Machine12, Duration 129
  Step 17: Machine Machine19, Duration 4
  Step 18: Machine Machine9, Duration 150
  Step 19: Machine Machine15, Duration 36
  Step 20: Machine Machine6, Duration 25
        
        REQUIRED OUTPUT FORMAT:
        You must provide your solution in the following exact format:
        
        1. FINAL MAKESPAN: [integer value]
        2. STRUCTURED SCHEDULE:
           For each operation, provide:
           - Job: [job_name]
           - Step: [step_number]
           - Machine: [machine_name]
           - Start Time: [start_time]
           - End Time: [end_time]
           - Duration: [duration]
        
        Example format:
        FINAL MAKESPAN: 25
        STRUCTURED SCHEDULE:
        - Job: Job1, Step: 1, Machine: Machine0, Start Time: 0, End Time: 3, Duration: 3
        - Job: Job1, Step: 2, Machine: Machine1, Start Time: 3, End Time: 7, Duration: 4
        - Job: Job2, Step: 1, Machine: Machine1, Start Time: 7, End Time: 10, Duration: 3
        
        Please solve this Job Shop Scheduling Problem and provide:
        1. A valid schedule with start and end times for each operation
        2. The minimum makespan (total completion time)
        3. Ensure all constraints are satisfied:
           - Job precedence: operations within a job must be sequential
           - Machine constraints: no overlapping operations on the same machine
        


üí¨ Gemini-2.5 Full Output:
------------------------------
Okay, I will analyze the provided JSSP instance (rcmax_20_20_7) and generate a schedule that minimizes the makespan while adhering to all constraints. Due to the complexity of the problem, I will use a heuristic approach, specifically a priority-rule based scheduling algorithm with iterative improvement. I'll start with a simple rule (e.g., Shortest Processing Time - SPT) and then attempt to improve the schedule by shifting operations.

Here's the approach I'll take:

1.  **Initialization:** Create an initial schedule using the SPT rule. This means that when a machine becomes available, the operation with the shortest duration among those waiting to be processed on that machine will be selected.
2.  **Conflict Resolution:** Resolve any machine conflicts by delaying operations.
3.  **Makespan Calculation:** Calculate the makespan of the initial schedule.
4.  **Iterative Improvement:**  Implement a simple iterative improvement strategy.  I'll try shifting operations within a job by a small amount to see if it reduces the makespan.  I'll focus on operations on the critical path (the sequence of operations that determines the makespan).
5.  **Output:**  Present the final schedule in the required format, including the makespan and the start and end times for each operation.

**Important Considerations:**

*   **Heuristic Nature:**  This approach is heuristic, meaning it doesn't guarantee the absolute optimal solution. Finding the true optimal solution for a JSSP of this size is computationally very expensive.
*   **Computational Limits:**  Due to the complexity, I will limit the number of iterations in the improvement phase to provide a solution within a reasonable time.
*   **Data Structures:** I will use dictionaries and lists to represent the jobs, machines, and schedule.

```python
import copy

def solve_jssp(jobs_data):
    """Solves the Job Shop Scheduling Problem using a heuristic approach."""

    num_jobs = len(jobs_data)
    machines = set()
    for job in jobs_data:
        for step in job:
            machines.add(step['machine'])
    machines = sorted(list(machines))
    num_machines = len(machines)

    # 1. Initialization (SPT-based initial schedule)
    schedule = {machine: [] for machine in machines}
    job_completion_times = [0] * num_jobs
    job_start_times = [0] * num_jobs
    operation_start_times = {}

    for job_id in range(num_jobs):
        job = jobs_data[job_id]
        current_time = 0
        for step_num, step in enumerate(job):
            machine = step['machine']
            duration = step['duration']

            # Find available time slot on the machine
            start_time = current_time
            machine_schedule = schedule[machine]
            
            # Check for overlaps and adjust start time
            for scheduled_op in machine_schedule:
                if start_time < scheduled_op['end_time']:
                    start_time = scheduled_op['end_time']
            
            end_time = start_time + duration

            # Update schedule and completion times
            schedule[machine].append({
                'job': job_id,
                'step': step_num,
                'start_time': start_time,
                'end_time': end_time,
                'duration': duration
            })
            
            operation_start_times[(job_id, step_num)] = start_time
            current_time = end_time
        job_completion_times[job_id] = current_time

    # 2. Calculate Initial Makespan
    makespan = max(job_completion_times)

    # 3. Iterative Improvement (Simple Shifting)
    num_iterations = 100
    best_makespan = makespan
    best_schedule = copy.deepcopy(schedule)
    best_operation_start_times = copy.deepcopy(operation_start_times)

    for _ in range(num_iterations):
        # Select a random job
        job_to_shift = _ % num_jobs #Iterate through jobs

        # Select a random operation within the job (excluding the first)
        num_operations = len(jobs_data[job_to_shift])
        if num_operations <= 1:
            continue
        operation_to_shift = (_ % (num_operations -1)) + 1 #Iterate through operations

        # Get the current start time of the operation
        current_start_time = operation_start_times[(job_to_shift, operation_to_shift)]

        # Try shifting the operation earlier by a small amount
        shift_amount = 1 # Keep it small

        new_start_time = max(0, current_start_time - shift_amount)

        # Create a temporary schedule to test the shift
        temp_schedule = copy.deepcopy(schedule)
        temp_operation_start_times = copy.deepcopy(operation_start_times)
        temp_job_completion_times = copy.deepcopy(job_completion_times)

        # Remove the operation from the schedule
        machine = jobs_data[job_to_shift][operation_to_shift]['machine']
        
        operation_data = None
        for op in temp_schedule[machine]:
            if op['job'] == job_to_shift and op['step'] == operation_to_shift:
                operation_data = op
                break
        
        if operation_data:
            temp_schedule[machine].remove(operation_data)
        else:
            continue #Operation not found

        # Adjust the start time and end time
        operation_data['start_time'] = new_start_time
        operation_data['end_time'] = new_start_time + operation_data['duration']
        temp_operation_start_times[(job_to_shift, operation_to_shift)] = new_start_time

        # Re-insert the operation into the schedule, resolving conflicts
        
        # Check for overlaps and adjust start time
        machine_schedule = temp_schedule[machine]
        
        insert_index = 0
        for i, scheduled_op in enumerate(sorted(machine_schedule, key=lambda x: x['start_time'])):
            if operation_data['start_time'] < scheduled_op['end_time']:
                operation_data['start_time'] = scheduled_op['end_time']
                operation_data['end_time'] = operation_data['start_time'] + operation_data['duration']
            if operation_data['start_time'] > scheduled_op['start_time']:
                insert_index = i+1
        
        temp_schedule[machine].insert(insert_index, operation_data)
        temp_schedule[machine] = sorted(temp_schedule[machine], key=lambda x: x['start_time'])

        # Adjust subsequent operations in the job
        current_time = operation_data['end_time']
        for step_num in range(operation_to_shift + 1, num_operations):
            machine = jobs_data[job_to_shift][step_num]['machine']
            duration = jobs_data[job_to_shift][step_num]['duration']

            start_time = current_time
            machine_schedule = temp_schedule[machine]
            
            # Check for overlaps and adjust start time
            for scheduled_op in machine_schedule:
                if start_time < scheduled_op['end_time']:
                    start_time = scheduled_op['end_time']

            end_time = start_time + duration

            # Update schedule and completion times
            
            operation_data = None
            for op in temp_schedule[machine]:
                if op['job'] == job_to_shift and op['step'] == step_num:
                    operation_data = op
                    break
            
            if operation_data:
                temp_schedule[machine].remove(operation_data)
            else:
                continue #Operation not found
            
            operation_data['start_time'] = start_time
            operation_data['end_time'] = end_time
            temp_schedule[machine].append(operation_data)
            temp_schedule[machine] = sorted(temp_schedule[machine], key=lambda x: x['start_time'])
            temp_operation_start_times[(job_to_shift, step_num)] = start_time
            current_time = end_time

        temp_job_completion_times[job_to_shift] = current_time
        
        #Recalculate all job completion times
        for job_id in range(num_jobs):
            current_time = 0
            for step_num, step in enumerate(jobs_data[job_id]):
                current_time = temp_operation_start_times[(job_id, step_num)] + step['duration']
            temp_job_completion_times[job_id] = current_time

        # Calculate the new makespan
        new_makespan = max(temp_job_completion_times)

        # If the new makespan is better, update the best schedule
        if new_makespan < best_makespan:
            best_makespan = new_makespan
            best_schedule = copy.deepcopy(temp_schedule)
            best_operation_start_times = copy.deepcopy(temp_operation_start_times)
            #print(f"Improved makespan to {best_makespan} in iteration {_}")

    # 4. Prepare Output
    final_schedule = []
    for machine in machines:
        for op in best_schedule[machine]:
            final_schedule.append({
                'Job': f'Job{op["job"] + 1}',
                'Step': op['step'] + 1,
                'Machine': op['machine'],
                'Start Time': op['start_time'],
                'End Time': op['end_time'],
                'Duration': op['duration']
            })

    return int(best_makespan), final_schedule


# Data from the problem description
jobs_data = [
    [
        {'machine': 'Machine4', 'duration': 135},
        {'machine': 'Machine6', 'duration': 174},
        {'machine': 'Machine17', 'duration': 89},
        {'machine': 'Machine5', 'duration': 37},
        {'machine': 'Machine9', 'duration': 2},
        {'machine': 'Machine13', 'duration': 41},
        {'machine': 'Machine18', 'duration': 178},
        {'machine': 'Machine14', 'duration': 161},
        {'machine': 'Machine15', 'duration': 154},
        {'machine': 'Machine1', 'duration': 40},
        {'machine': 'Machine16', 'duration': 94},
        {'machine': 'Machine11', 'duration': 59},
        {'machine': 'Machine3', 'duration': 166},
        {'machine': 'Machine8', 'duration': 71},
        {'machine': 'Machine0', 'duration': 102},
        {'machine': 'Machine7', 'duration': 55},
        {'machine': 'Machine2', 'duration': 112},
        {'machine': 'Machine10', 'duration': 105},
        {'machine': 'Machine12', 'duration': 28},
        {'machine': 'Machine19', 'duration': 60}
    ],
    [
        {'machine': 'Machine1', 'duration': 17},
        {'machine': 'Machine3', 'duration': 154},
        {'machine': 'Machine15', 'duration': 103},
        {'machine': 'Machine0', 'duration': 27},
        {'machine': 'Machine7', 'duration': 37},
        {'machine': 'Machine6', 'duration': 42},
        {'machine': 'Machine2', 'duration': 101},
        {'machine': 'Machine9', 'duration': 87},
        {'machine': 'Machine13', 'duration': 86},
        {'machine': 'Machine11', 'duration': 123},
        {'machine': 'Machine10', 'duration': 57},
        {'machine': 'Machine8', 'duration': 12},
        {'machine': 'Machine14', 'duration': 66},
        {'machine': 'Machine4', 'duration': 174},
        {'machine': 'Machine12', 'duration': 34},
        {'machine': 'Machine16', 'duration': 108},
        {'machine': 'Machine19', 'duration': 54},
        {'machine': 'Machine18', 'duration': 159},
        {'machine': 'Machine5', 'duration': 12},
        {'machine': 'Machine17', 'duration': 149}
    ],
    [
        {'machine': 'Machine5', 'duration': 122},
        {'machine': 'Machine14', 'duration': 183},
        {'machine': 'Machine13', 'duration': 91},
        {'machine': 'Machine9', 'duration': 17},
        {'machine': 'Machine18', 'duration': 104},
        {'machine': 'Machine1', 'duration': 152},
        {'machine': 'Machine12', 'duration': 137},
        {'machine': 'Machine10', 'duration': 98},
        {'machine': 'Machine8', 'duration': 102},
        {'machine': 'Machine2', 'duration': 141},
        {'machine': 'Machine15', 'duration': 75},
        {'machine': 'Machine7', 'duration': 58},
        {'machine': 'Machine3', 'duration': 184},
        {'machine': 'Machine16', 'duration': 167},
        {'machine': 'Machine11', 'duration': 75},
        {'machine': 'Machine4', 'duration': 124},
        {'machine': 'Machine17', 'duration': 141},
        {'machine': 'Machine6', 'duration': 90},
        {'machine': 'Machine19', 'duration': 192},
        {'machine': 'Machine0', 'duration': 95}
    ],
    [
        {'machine': 'Machine9', 'duration': 50},
        {'machine': 'Machine7', 'duration': 56},
        {'machine': 'Machine19', 'duration': 151},
        {'machine': 'Machine11', 'duration': 197},
        {'machine': 'Machine12', 'duration': 59},
        {'machine': 'Machine18', 'duration': 115},
        {'machine': 'Machine2', 'duration': 51},
        {'machine': 'Machine4', 'duration': 146},
        {'machine': 'Machine10', 'duration': 189},
        {'machine': 'Machine17', 'duration': 15},
        {'machine': 'Machine14', 'duration': 180},
        {'machine': 'Machine8', 'duration': 10},
        {'machine': 'Machine0', 'duration': 134},
        {'machine': 'Machine6', 'duration': 11},
        {'machine': 'Machine16', 'duration': 30},
        {'machine': 'Machine5', 'duration': 42},
        {'machine': 'Machine15', 'duration': 189},
        {'machine': 'Machine3', 'duration': 63},
        {'machine': 'Machine13', 'duration': 196},
        {'machine': 'Machine1', 'duration': 21}
    ],
    [
        {'machine': 'Machine18', 'duration': 53},
        {'machine': 'Machine5', 'duration': 23},
        {'machine': 'Machine11', 'duration': 99},
        {'machine': 'Machine16', 'duration': 57},
        {'machine': 'Machine14', 'duration': 92},
        {'machine': 'Machine6', 'duration': 180},
        {'machine': 'Machine0', 'duration': 4},
        {'machine': 'Machine12', 'duration': 121},
        {'machine': 'Machine13', 'duration': 102},
        {'machine': 'Machine15', 'duration': 185},
        {'machine': 'Machine19', 'duration': 72},
        {'machine': 'Machine9', 'duration': 134},
        {'machine': 'Machine7', 'duration': 76},
        {'machine': 'Machine2', 'duration': 69},
        {'machine': 'Machine17', 'duration': 63},
        {'machine': 'Machine8', 'duration': 57},
        {'machine': 'Machine3', 'duration': 95},
        {'machine': 'Machine4', 'duration': 116},
        {'machine': 'Machine10', 'duration': 23},
        {'machine': 'Machine1', 'duration': 168}
    ],
    [
        {'machine': 'Machine17', 'duration': 89},
        {'machine': 'Machine2', 'duration': 158},
        {'machine': 'Machine12', 'duration': 97},
        {'machine': 'Machine10', 'duration': 181},
        {'machine': 'Machine16', 'duration': 138},
        {'machine': 'Machine7', 'duration': 112},
        {'machine': 'Machine5', 'duration': 66},
        {'machine': 'Machine8', 'duration': 34},
        {'machine': 'Machine13', 'duration': 198},
        {'machine': 'Machine6', 'duration': 193},
        {'machine': 'Machine9', 'duration': 159},
        {'machine': 'Machine14', 'duration': 114},
        {'machine': 'Machine0', 'duration': 86},
        {'machine': 'Machine19', 'duration': 84},
        {'machine': 'Machine11', 'duration': 122},
        {'machine': 'Machine4', 'duration': 30},
        {'machine': 'Machine3', 'duration': 69},
        {'machine': 'Machine1', 'duration': 200},
        {'machine': 'Machine15', 'duration': 35},
        {'machine': 'Machine18', 'duration': 163}
    ],
    [
        {'machine': 'Machine10', 'duration': 37},
        {'machine': 'Machine19', 'duration': 177},
        {'machine': 'Machine13', 'duration': 26},
        {'machine': 'Machine1', 'duration': 157},
        {'machine': 'Machine15', 'duration': 6},
        {'machine': 'Machine8', 'duration': 96},
        {'machine': 'Machine11', 'duration': 56},
        {'machine': 'Machine5', 'duration': 101},
        {'machine': 'Machine0', 'duration': 196},
        {'machine': 'Machine12', 'duration': 112},
        {'machine': 'Machine4', 'duration': 60},
        {'machine': 'Machine7', 'duration': 96},
        {'machine': 'Machine9', 'duration': 39},
        {'machine': 'Machine14', 'duration': 23},
        {'machine': 'Machine17', 'duration': 175},
        {'machine': 'Machine18', 'duration': 185},
        {'machine': 'Machine6', 'duration': 200},
        {'machine': 'Machine2', 'duration': 146},
        {'machine': 'Machine16', 'duration': 127},
        {'machine': 'Machine3', 'duration': 40}
    ],
    [
        {'machine': 'Machine3', 'duration': 83},
        {'machine': 'Machine2', 'duration': 27},
        {'machine': 'Machine7', 'duration': 158},
        {'machine': 'Machine5', 'duration': 54},
        {'machine': 'Machine1', 'duration': 124},
        {'machine': 'Machine13', 'duration': 151},
        {'machine': 'Machine8', 'duration': 49},
        {'machine': 'Machine9', 'duration': 4},
        {'machine': 'Machine15', 'duration': 135},
        {'machine': 'Machine10', 'duration': 127},
        {'machine': 'Machine18', 'duration': 33},
        {'machine': 'Machine14', 'duration': 104},
        {'machine': 'Machine19', 'duration': 72},
        {'machine': 'Machine17', 'duration': 125},
        {'machine': 'Machine16', 'duration': 24},
        {'machine': 'Machine6', 'duration': 17},
        {'machine': 'Machine0', 'duration': 116},
        {'machine': 'Machine12', 'duration': 3},
        {'machine': 'Machine11', 'duration': 96},
        {'machine': 'Machine4', 'duration': 140}
    ],
    [
        {'machine': 'Machine0', 'duration': 89},
        {'machine': 'Machine19', 'duration': 131},
        {'machine': 'Machine7', 'duration': 69},
        {'machine': 'Machine8', 'duration': 163},
        {'machine': 'Machine3', 'duration': 6},
        {'machine': 'Machine17', 'duration': 67},
        {'machine': 'Machine10', 'duration': 25},
        {'machine': 'Machine6', 'duration': 21},
        {'machine': 'Machine11', 'duration': 151},
        {'machine': 'Machine12', 'duration': 168},
        {'machine': 'Machine1', 'duration': 168},
        {'machine': 'Machine4', 'duration': 170},
        {'machine': 'Machine9', 'duration': 14},
        {'machine': 'Machine16', 'duration': 193},
        {'machine': 'Machine14', 'duration': 28},
        {'machine': 'Machine18', 'duration': 157},
        {'machine': 'Machine13', 'duration': 29},
        {'machine': 'Machine2', 'duration': 105},
        {'machine': 'Machine15', 'duration': 86},
        {'machine': 'Machine5', 'duration': 196}
    ],
    [
        {'machine': 'Machine8', 'duration': 159},
        {'machine': 'Machine17', 'duration': 102},
        {'machine': 'Machine9', 'duration': 79},
        {'machine': 'Machine14', 'duration': 164},
        {'machine': 'Machine0', 'duration': 133},
        {'machine': 'Machine1', 'duration': 34},
        {'machine': 'Machine6', 'duration': 64},
        {'machine': 'Machine13', 'duration': 144},
        {'machine': 'Machine19', 'duration': 32},
        {'machine': 'Machine11', 'duration': 98},
        {'machine': 'Machine4', 'duration': 181},
        {'machine': 'Machine10', 'duration': 123},
        {'machine': 'Machine5', 'duration': 80},
        {'machine': 'Machine18', 'duration': 143},
        {'machine': 'Machine16', 'duration': 98},
        {'machine': 'Machine2', 'duration': 16},
        {'machine': 'Machine12', 'duration': 127},
        {'machine': 'Machine3', 'duration': 176},
        {'machine': 'Machine15', 'duration': 169},
        {'machine': 'Machine7', 'duration': 100}
    ],
    [
        {'machine': 'Machine11', 'duration': 61},
        {'machine': 'Machine17', 'duration': 50},
        {'machine': 'Machine13', 'duration': 86},
        {'machine': 'Machine4', 'duration': 123},
        {'machine': 'Machine19', 'duration': 146},
        {'machine': 'Machine2', 'duration': 190},
        {'machine': 'Machine5', 'duration': 109},
        {'machine': 'Machine10', 'duration': 55},
        {'machine': 'Machine1', 'duration': 178},
        {'machine': 'Machine14', 'duration': 86},
        {'machine': 'Machine18', 'duration': 161},
        {'machine': 'Machine7', 'duration': 126},
        {'machine': 'Machine3', 'duration': 134},
        {'machine': 'Machine9', 'duration': 65},
        {'machine': 'Machine0', 'duration': 165},
        {'machine': 'Machine8', 'duration': 160},
        {'machine': 'Machine12', 'duration': 75},
        {'machine': 'Machine16', 'duration': 135},
        {'machine': 'Machine15', 'duration': 195},
        {'machine': 'Machine6', 'duration': 154}
    ],
    [
        {'machine': 'Machine10', 'duration': 114},
        {'machine': 'Machine2', 'duration': 146},
        {'machine': 'Machine8', 'duration': 192},
        {'machine': 'Machine13', 'duration': 103},
        {'machine': 'Machine7', 'duration': 29},
        {'machine': 'Machine12', 'duration': 170},
        {'machine': 'Machine3', 'duration': 131},
        {'machine': 'Machine9', 'duration': 158},
        {'machine': 'Machine19', 'duration': 134},
        {'machine': 'Machine15', 'duration': 37},
        {'machine': 'Machine6', 'duration': 45},
        {'machine': 'Machine18', 'duration': 113},
        {'machine': 'Machine5', 'duration': 62},
        {'machine': 'Machine0', 'duration': 123},
        {'machine': 'Machine4', 'duration': 73},
        {'machine': 'Machine16', 'duration': 129},
        {'machine': 'Machine1', 'duration': 161},
        {'machine': 'Machine11', 'duration': 61},
        {'machine': 'Machine17', 'duration': 158},
        {'machine': 'Machine14', 'duration': 91}
    ],
    [
        {'machine': 'Machine4', 'duration': 165},
        {'machine': 'Machine7', 'duration': 196},
        {'machine': 'Machine2', 'duration': 199},
        {'machine': 'Machine15', 'duration': 182},
        {'machine': 'Machine16', 'duration': 140},
        {'machine': 'Machine1', 'duration': 19},
        {'machine': 'Machine8', 'duration': 84},
        {'machine': 'Machine19', 'duration': 97},
        {'machine': 'Machine13', 'duration': 80},
        {'machine': 'Machine9', 'duration': 161},
        {'machine': 'Machine6', 'duration': 192},
        {'machine': 'Machine3', 'duration': 30},
        {'machine': 'Machine18', 'duration': 182},
        {'machine': 'Machine10', 'duration': 117},
        {'machine': 'Machine17', 'duration': 84},
        {'machine': 'Machine11', 'duration': 156},
        {'machine': 'Machine14', 'duration': 166},
        {'machine': 'Machine12', 'duration': 82},
        {'machine': 'Machine5', 'duration': 152},
        {'machine': 'Machine0', 'duration': 9}
    ],
    [
        {'machine': 'Machine3', 'duration': 32},
        {'machine': 'Machine0', 'duration': 167},
        {'machine': 'Machine18', 'duration': 42},
        {'machine': 'Machine5', 'duration': 19},
        {'machine': 'Machine8', 'duration': 32},
        {'machine': 'Machine16', 'duration': 34},
        {'machine': 'Machine6', 'duration': 152},
        {'machine': 'Machine9', 'duration': 78},
        {'machine': 'Machine10', 'duration': 91},
        {'machine': 'Machine12', 'duration': 132},
        {'machine': 'Machine13', 'duration': 197},
        {'machine': 'Machine2', 'duration': 50},
        {'machine': 'Machine1', 'duration': 190},
        {'machine': 'Machine4', 'duration': 200},
        {'machine': 'Machine17', 'duration': 39},
        {'machine': 'Machine19', 'duration': 71},
        {'machine': 'Machine11', 'duration': 56},
        {'machine': 'Machine14', 'duration': 174},
        {'machine': 'Machine15', 'duration': 182},
        {'machine': 'Machine7', 'duration': 36}
    ],
    [
        {'machine': 'Machine9', 'duration': 149},
        {'machine': 'Machine6', 'duration': 128},
        {'machine': 'Machine19', 'duration': 19},
        {'machine': 'Machine15', 'duration': 141},
        {'machine': 'Machine17', 'duration': 199},
        {'machine': 'Machine7', 'duration': 56},
        {'machine': 'Machine16', 'duration': 19},
        {'machine': 'Machine3', 'duration': 176},
        {'machine': 'Machine12', 'duration': 15},
        {'machine': 'Machine18', 'duration': 120},
        {'machine': 'Machine10', 'duration': 36},
        {'machine': 'Machine1', 'duration': 200},
        {'machine': 'Machine13', 'duration': 59},
        {'machine': 'Machine4', 'duration': 122},
        {'machine': 'Machine5', 'duration': 192},
        {'machine': 'Machine8', 'duration': 2},
        {'machine': 'Machine2', 'duration': 142},
        {'machine': 'Machine0', 'duration': 100},
        {'machine': 'Machine14', 'duration': 83},
        {'machine': 'Machine11', 'duration': 100}
    ],
    [
        {'machine': 'Machine3', 'duration': 191},
        {'machine': 'Machine18', 'duration': 95},
        {'machine': 'Machine12', 'duration': 14},
        {'machine': 'Machine7', 'duration': 115},
        {'machine': 'Machine1', 'duration': 159},
        {'machine': 'Machine17', 'duration': 111},
        {'machine': 'Machine15', 'duration': 8},
        {'machine': 'Machine4', 'duration': 155},
        {'machine': 'Machine5', 'duration': 37},
        {'machine': 'Machine14', 'duration': 151},
        {'machine': 'Machine6', 'duration': 93},
        {'machine': 'Machine2', 'duration': 193},
        {'machine': 'Machine11', 'duration': 81},
        {'machine': 'Machine0', 'duration': 36},
        {'machine': 'Machine8', 'duration': 4},
        {'machine': 'Machine9', 'duration': 191},
        {'machine': 'Machine10', 'duration': 18},
        {'machine': 'Machine13', 'duration': 47},
        {'machine': 'Machine16', 'duration': 131},
        {'machine': 'Machine19', 'duration': 8}
    ],
    [
        {'machine': 'Machine0', 'duration': 83},
        {'machine': 'Machine7', 'duration': 73},
        {'machine': 'Machine9', 'duration': 171},
        {'machine': 'Machine15', 'duration': 122},
        {'machine': 'Machine2', 'duration': 3},
        {'machine': 'Machine8', 'duration': 193},
        {'machine': 'Machine11', 'duration': 30},
        {'machine': 'Machine16', 'duration': 179},
        {'machine': 'Machine17', 'duration': 94},
        {'machine': 'Machine4', 'duration': 200},
        {'machine': 'Machine18', 'duration': 149},
        {'machine': 'Machine12', 'duration': 149},
        {'machine': 'Machine19', 'duration': 96},
        {'machine': 'Machine5', 'duration': 47},
        {'machine': 'Machine10', 'duration': 138},
        {'machine': 'Machine1', 'duration': 21},
        {'machine': 'Machine3', 'duration': 70},
        {'machine': 'Machine13', 'duration': 133},
        {'machine': 'Machine14', 'duration': 158},
        {'machine': 'Machine6', 'duration': 194}
    ],


üìä Extracted Makespan: None
üìã Schedule Operations Count: 0

==================================================

